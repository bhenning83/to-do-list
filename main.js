(()=>{"use strict";const e=function(){const e=document.getElementById("content"),t=document.createElement("header"),d=document.createElement("h1");d.textContent="To-Do or Not To-Do",t.classList.add("text-center"),t.appendChild(d),e.appendChild(t)},t=(e,t)=>({name:e,idx:t}),d=(e,t,d,n,a="Free Spirited")=>({name:e,dueDate:t,note:d,priority:n,project:a}),n=function(e){const t=document.createElement("div"),d=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),i=function(e){const t=document.createElement("div"),d=document.createElement("div");return t.classList.add("check-box"),d.classList.add("checkmark"),t.addEventListener("click",(t=>{t.preventDefault(),d.style.display="block",setTimeout((function(){l.taskCheckedOff(e)}),700)})),t.appendChild(d),t}(e),s=function(e){const t=document.createElement("i");return t.classList.add("fa"),t.classList.add("fa-sticky-note-o"),t.classList.add("mr-auto"),t.addEventListener("click",(t=>{t.preventDefault(),e.classList.toggle("show-task-note")})),t}(a),r=document.createElement("div");switch(t.classList.add("row"),d.classList.add("task-name-rendered"),d.classList.add("mx-2"),n.classList.add("col-4"),n.classList.add("text-right"),r.classList.add("col-8"),r.classList.add("d-flex"),r.classList.add("align-items-center"),a.classList.add("col-8"),d.textContent=e.name,n.textContent=e.dueDate,a.textContent=e.note,a.classList.add("render-task-note"),a.classList.add("show-task-note"),d.addEventListener("click",(d=>{d.preventDefault(),l.editTask(e,t)})),n.addEventListener("click",(d=>{d.preventDefault(),l.editTask(e,t)})),e.priority){case"high":d.classList.add("high-pri");break;case"med":d.classList.add("med-pri");break;case"low":d.classList.add("low-pri")}return r.appendChild(i),r.appendChild(d),e.note&&r.appendChild(s),t.appendChild(r),t.appendChild(n),t.appendChild(a),t},a=function(){let e=document.querySelectorAll(".project-box");for(let t=0;t<e.length;t++)e[t].remove()},i=function(e){e.remove()},s=function(e){for(let t=e.length-1;t>=0;t--)e[t].remove()},r=function(e,t){console.log(e.project);const d=document.createElement("form"),n=document.createElement("div");n.classList.add("col-12"),d.setAttribute("id","edit-form-"+e.name),d.classList.add("edit-task-form"),d.classList.add("task-form"),d.classList.add("row"),d.addEventListener("submit",(t=>{t.preventDefault(),l.editFormSubmit(d,e)})),function(){const a=function(){const t=document.createElement("div"),d=document.createElement("input");return d.setAttribute("type","date"),d.setAttribute("id","newDueDate"),d.setAttribute("value",e.dueDate),t.classList.add("task-date"),t.appendChild(d),t}(),i=function(){const t=document.createElement("div"),d=document.createElement("input");return d.setAttribute("type","text"),d.setAttribute("id","newName"),d.setAttribute("placeholder","Edit Task Name"),d.setAttribute("value",e.name),d.required=!0,t.classList.add("task-name"),t.appendChild(d),t}(),s=function(){const t=document.createElement("div"),d=document.createElement("textarea");return d.setAttribute("placeholder","Notes about task"),d.setAttribute("form","edit-form-"+e.name),d.value=e.note,d.classList.add("w-100"),t.classList.add("task-note"),t.appendChild(d),t}(),r=function(){const t=document.createElement("div"),d=document.createElement("input"),n=document.createElement("label"),a=document.createElement("div"),i=document.createElement("input"),s=document.createElement("label"),r=document.createElement("div"),c=document.createElement("input"),o=document.createElement("label"),l=document.createElement("div");switch(a.classList.add("low-box"),a.classList.add("pri-box"),r.classList.add("med-box"),r.classList.add("pri-box"),r.classList.add("mx-3"),l.classList.add("high-box"),l.classList.add("pri-box"),t.classList.add("d-flex"),d.setAttribute("type","radio"),d.setAttribute("name","priority"),d.setAttribute("value","low"),n.setAttribute("for","lowPriority"),n.textContent="Low",i.setAttribute("type","radio"),i.setAttribute("name","priority"),i.setAttribute("value","med"),s.setAttribute("for","medPriority"),s.textContent="Medium",c.setAttribute("type","radio"),c.setAttribute("name","priority"),c.setAttribute("value","high"),o.setAttribute("for","highPriority"),o.textContent="High",e.priority){case"high":c.setAttribute("checked",!0);break;case"med":i.setAttribute("checked",!0);break;case"low":d.setAttribute("checked",!0)}return a.appendChild(d),a.appendChild(n),t.appendChild(a),r.appendChild(i),r.appendChild(s),t.appendChild(r),l.appendChild(c),l.appendChild(o),t.appendChild(l),t.classList.add("pri-boxes"),t}();d.appendChild(i),d.appendChild(a),n.appendChild(s),d.appendChild(n),d.appendChild(r),function(){const e=document.createElement("button"),t=document.createElement("div");e.setAttribute("type","submit"),e.textContent="Edit",t.appendChild(e),d.appendChild(t)}(),t.appendChild(d)}()},c=function(){const e=document.getElementById("content"),t=document.createElement("div"),d=document.createElement("form"),n=document.createElement("div"),a=document.createElement("input"),i=document.createElement("button");t.classList.add("row"),d.classList.add("col-12"),a.setAttribute("placeholder","New Project"),a.setAttribute("id","new-project"),a.setAttribute("type","text"),a.classList.add("mr-3"),i.setAttribute("type","submit"),i.textContent="Create",n.classList.add("d-flex"),n.appendChild(a),n.appendChild(i),d.appendChild(n),d.addEventListener("submit",(e=>{e.preventDefault(),p.formSubmit(d)})),t.appendChild(d),e.appendChild(t)},o=function(e,t){const d=document.createElement("div"),n=document.createElement("form"),a=document.createElement("div"),i=document.createElement("input"),s=document.createElement("button");d.classList.add("row"),i.setAttribute("placeholder","Edit Project Name"),i.setAttribute("value",e.name),i.setAttribute("id","newName"),i.setAttribute("type","text"),i.classList.add("mr-3"),s.setAttribute("type","submit"),s.textContent="Edit",a.appendChild(i),a.appendChild(s),n.appendChild(a),n.addEventListener("submit",(t=>{t.preventDefault(),p.editSubmit(n,e)})),d.appendChild(n),t.prepend(d)},l=(()=>{const e=[d("Task Name","2020-12-20","A note about the task","low","Project 1"),d("Task Name 2","2020-12-20","Another note about the task","high","Project 1")];function t(t){let n=t.querySelector(".task-name input").value,a=t.querySelector(".task-date input").value,i=t.querySelector(".task-note textarea").value,s=t.querySelector(".task-project input").value,r=t.querySelector(".pri-boxes .pri-box:nth-of-type(1) input"),c=t.querySelector(".pri-boxes .pri-box:nth-of-type(2) input"),o=t.querySelector(".pri-boxes .pri-box:nth-of-type(3) input"),l=[],u="";l.push(r,c,o);for(let e=0;e<l.length;e++)l[e].checked&&(u=l[e].value);let p=d(n,a,i,u,s);e.push(p)}return{getAllTasks:function(){return e},createTask:t,getProjectTasks:function(t){const d=[];for(let n=0;n<e.length;n++){let a=e[n];a.project==t&&d.push(a)}return d},makeTaskForm:function(e,t){return m.create(e,t)},formSubmit:function(e){t(e),p.renderAllProjects()},taskCheckedOff:function(t){const d=e.indexOf(t);e.splice(d,1),p.renderAllProjects()},editTask:function(e,t){const d=t.children;s(d),r(e,t)},editFormSubmit:function(e,t){t.name=e.querySelector(".task-name input").value,t.dueDate=e.querySelector(".task-date input").value,t.note=e.querySelector(".task-note textarea").value;let d=e.querySelector(".pri-boxes .pri-box:nth-of-type(1) input"),n=e.querySelector(".pri-boxes .pri-box:nth-of-type(2) input"),a=e.querySelector(".pri-boxes .pri-box:nth-of-type(3) input"),i=[],s="";i.push(d,n,a);for(let e=0;e<i.length;e++)i[e].checked&&(s=i[e].value);t.priority=s,p.renderAllProjects()}}})(),u=(()=>{const e=document.getElementById("content"),t=document.createElement("div");return t.setAttribute("id","all-proj-box"),{render:function(d,a,i,s){const r=document.createElement("div"),c=document.createElement("h4"),o=document.createElement("div");t.classList.add("row"),c.textContent=d.name,r.classList.add("project-box"),r.classList.add("col-12"),r.classList.add("my-2"),r.classList.add("order-"+s),r.classList.add("projBox-"+s),r.appendChild(c),o.textContent="+",o.classList.add("add-task"),o.addEventListener("click",(e=>{i.classList.toggle("new-task-form")}));for(let e=0;e<a.length;e++){const t=n(a[e]);r.appendChild(t)}c.addEventListener("click",(e=>{e.preventDefault(),p.editProject(d,c)})),r.appendChild(o),r.appendChild(i),t.appendChild(r),e.appendChild(t)}}})(),p=(()=>{const e=[t("Free Spirited Tasks",0)];let d=1;function n(n){const a=n["new-project"].value.trim();if(a){const n=t(a,d);d++,e.push(n)}}function s(){a();for(let t=0;t<e.length;t++){const d=e[t],n=l.getProjectTasks(d.idx),a=l.makeTaskForm(d);u.render(d,n,a,t)}}return{createNewProject:n,getAllProjects:function(){return e},renderAllProjects:s,createNewProjectForm:function(){c()},formSubmit:function(e){n(e),s(),e.reset()},editProject:function(e,t){let d=t.parentNode;i(t),o(e,d)},editSubmit:function(e,t){let d=e.newName.value;t.name=d,s()}}})(),m={create:function(e){const t=document.createElement("form"),d=e.idx,n=document.createElement("div");return n.classList.add("col-12"),t.setAttribute("id","task-form"+d),t.classList.add("order-"+d),t.classList.add("new-task-form"),t.classList.add("task-form"),t.classList.add("row"),t.addEventListener("submit",(e=>{e.preventDefault(),l.formSubmit(t)})),function(){const e=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","date"),t.classList.add("w-100"),e.classList.add("task-date"),e.classList.add("col-6"),e.classList.add("pl-0"),e.appendChild(t),e}(),a=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder","Task Name"),t.classList.add("w-100"),t.required=!0,e.classList.add("task-name"),e.classList.add("col-6"),e.classList.add("pr-0"),e.appendChild(t),e}(),i=function(){const e=document.createElement("div"),t=document.createElement("textarea");return t.setAttribute("placeholder","Notes about task"),t.setAttribute("form","task-form"+d),t.classList.add("w-100"),e.classList.add("task-note"),e.appendChild(t),e}(),s=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","hidden"),t.setAttribute("id","project"+d),t.setAttribute("value",d),e.classList.add("task-project"),e.appendChild(t),e}(),r=function(){const e=document.createElement("div"),t=document.createElement("input"),n=document.createElement("label"),a=document.createElement("div"),i=document.createElement("input"),s=document.createElement("label"),r=document.createElement("div"),c=document.createElement("input"),o=document.createElement("label"),l=document.createElement("div");return a.classList.add("low-box"),a.classList.add("pri-box"),r.classList.add("med-box"),r.classList.add("pri-box"),r.classList.add("mx-3"),l.classList.add("high-box"),l.classList.add("pri-box"),e.classList.add("d-flex"),e.classList.add("col-9"),t.setAttribute("type","radio"),t.setAttribute("name","priority"),t.setAttribute("value","low"),t.classList.add("priority"+d),n.setAttribute("for","lowPriority"),n.classList.add("ml-1"),n.textContent="Low",i.setAttribute("type","radio"),i.setAttribute("name","priority"),i.setAttribute("value","med"),i.classList.add("priority"+d),s.setAttribute("for","medPriority"),s.classList.add("ml-1"),s.textContent="Medium",c.setAttribute("type","radio"),c.setAttribute("name","priority"),c.setAttribute("value","high"),c.classList.add("priority"+d),o.setAttribute("for","highPriority"),o.classList.add("ml-1"),o.textContent="High",a.appendChild(t),a.appendChild(n),e.appendChild(a),r.appendChild(i),r.appendChild(s),e.appendChild(r),l.appendChild(c),l.appendChild(o),e.appendChild(l),e.classList.add("pri-boxes"),e}();t.appendChild(a),t.appendChild(e),n.appendChild(i),t.appendChild(n),t.appendChild(s),t.appendChild(r)}(),function(){const e=document.createElement("div"),d=function(){const e=document.createElement("button");return e.setAttribute("type","submit"),e.textContent="Add",e}();e.appendChild(d),t.appendChild(e)}(),t}},h=(document.getElementById("content"),{render:function(){p.createNewProjectForm(),p.renderAllProjects()}});e(),h.render()})();