(()=>{"use strict";const e=function(){const e=document.getElementById("content"),t=document.createElement("header"),n=document.createElement("h1");n.textContent="To-Do or Not To-Do",t.classList.add("text-center"),t.appendChild(n),e.appendChild(t)},t=(e,t,n,d,a="Free Spirited")=>({name:e,dueDate:t,note:n,priority:d,project:a}),n=function(e){const t=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=function(e){const t=document.createElement("div"),n=document.createElement("div");return t.classList.add("check-box"),n.classList.add("checkmark"),t.addEventListener("click",(t=>{t.preventDefault(),n.style.display="block",setTimeout((function(){o.taskCheckedOff(e)}),700)})),t.appendChild(n),t}(e),s=function(e){const t=document.createElement("i");return t.classList.add("fa"),t.classList.add("fa-sticky-note-o"),t.classList.add("mr-auto"),t.addEventListener("click",(t=>{t.preventDefault(),e.classList.toggle("show-task-note")})),t}(a),r=document.createElement("div");switch(t.classList.add("row"),n.classList.add("task-name-rendered"),n.classList.add("mx-2"),d.classList.add("col-4"),d.classList.add("text-right"),r.classList.add("col-8"),r.classList.add("d-flex"),r.classList.add("align-items-center"),a.classList.add("col-8"),n.textContent=e.name,d.textContent=e.dueDate,a.textContent=e.note,a.classList.add("render-task-note"),a.classList.add("show-task-note"),n.addEventListener("click",(n=>{n.preventDefault(),o.editTask(e,t)})),d.addEventListener("click",(n=>{n.preventDefault(),o.editTask(e,t)})),e.priority){case"high":n.classList.add("high-pri");break;case"med":n.classList.add("med-pri");break;case"low":n.classList.add("low-pri")}return r.appendChild(i),r.appendChild(n),e.note&&r.appendChild(s),t.appendChild(r),t.appendChild(d),t.appendChild(a),t},d=function(){let e=document.querySelectorAll(".project-box");for(let t=0;t<e.length;t++)e[t].remove()},a=function(e){e.remove()},i=function(e){for(let t=e.length-1;t>=0;t--)e[t].remove()},s=function(e,t){const n=document.createElement("form"),d=document.createElement("div");d.classList.add("col-12"),n.setAttribute("id","edit-form-"+e.name),n.classList.add("edit-task-form"),n.classList.add("task-form"),n.classList.add("row"),n.addEventListener("submit",(t=>{t.preventDefault(),o.editFormSubmit(n,e)})),function(){const a=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("type","date"),n.setAttribute("id","newDueDate"),n.setAttribute("value",e.dueDate),t.classList.add("task-date"),t.appendChild(n),t}(),i=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("type","text"),n.setAttribute("id","newName"),n.setAttribute("placeholder","Edit Task Name"),n.setAttribute("value",e.name),n.required=!0,t.classList.add("task-name"),t.appendChild(n),t}(),s=function(){const t=document.createElement("div"),n=document.createElement("textarea");return n.setAttribute("placeholder","Notes about task"),n.setAttribute("form","edit-form-"+e.name),n.value=e.note,n.classList.add("w-100"),t.classList.add("task-note"),t.appendChild(n),t}(),r=function(){const t=document.createElement("div"),n=document.createElement("input"),d=document.createElement("label"),a=document.createElement("div"),i=document.createElement("input"),s=document.createElement("label"),r=document.createElement("div"),c=document.createElement("input"),o=document.createElement("label"),l=document.createElement("div");switch(a.classList.add("low-box"),a.classList.add("pri-box"),r.classList.add("med-box"),r.classList.add("pri-box"),r.classList.add("mx-3"),l.classList.add("high-box"),l.classList.add("pri-box"),t.classList.add("d-flex"),n.setAttribute("type","radio"),n.setAttribute("name","priority"),n.setAttribute("value","low"),d.setAttribute("for","lowPriority"),d.textContent="Low",i.setAttribute("type","radio"),i.setAttribute("name","priority"),i.setAttribute("value","med"),s.setAttribute("for","medPriority"),s.textContent="Medium",c.setAttribute("type","radio"),c.setAttribute("name","priority"),c.setAttribute("value","high"),o.setAttribute("for","highPriority"),o.textContent="High",e.priority){case"high":c.setAttribute("checked",!0);break;case"med":i.setAttribute("checked",!0);break;case"low":n.setAttribute("checked",!0)}return a.appendChild(n),a.appendChild(d),t.appendChild(a),r.appendChild(i),r.appendChild(s),t.appendChild(r),l.appendChild(c),l.appendChild(o),t.appendChild(l),t.classList.add("pri-boxes"),t}();n.appendChild(i),n.appendChild(a),d.appendChild(s),n.appendChild(d),n.appendChild(r),function(){const e=document.createElement("button"),t=document.createElement("div");e.setAttribute("type","submit"),e.textContent="Edit",t.appendChild(e),n.appendChild(t)}(),t.appendChild(n)}()},r=function(){const e=document.getElementById("content"),t=document.createElement("div"),n=document.createElement("form"),d=document.createElement("div"),a=document.createElement("input"),i=document.createElement("button");t.classList.add("row"),n.classList.add("col-12"),a.setAttribute("placeholder","New Project"),a.setAttribute("id","new-project"),a.setAttribute("type","text"),a.classList.add("mr-3"),i.setAttribute("type","submit"),i.textContent="Create",d.classList.add("d-flex"),d.appendChild(a),d.appendChild(i),n.appendChild(d),n.addEventListener("submit",(e=>{e.preventDefault(),p.formSubmit(n)})),t.appendChild(n),e.appendChild(t)},c=function(e,t){const n=document.createElement("div"),d=document.createElement("form"),a=document.createElement("div"),i=document.createElement("input"),s=document.createElement("button");n.classList.add("row"),i.setAttribute("placeholder","Edit Project Name"),i.setAttribute("value",e.name),i.setAttribute("id","newName"),i.setAttribute("type","text"),i.classList.add("mr-3"),s.setAttribute("type","submit"),s.textContent="Edit",a.appendChild(i),a.appendChild(s),d.appendChild(a),d.addEventListener("submit",(t=>{t.preventDefault(),p.editSubmit(d,e)})),n.appendChild(d),t.prepend(n)},o=(()=>{const e=[t("Task Name","2020-12-20","A note about the task","low","Project 1"),t("Task Name 2","2020-12-20","Another note about the task","high","Project 1")];function n(n,d){let a=n.querySelector(".task-name input").value,i=n.querySelector(".task-date input").value,s=n.querySelector(".task-note textarea").value,r=n.querySelector(".task-project input").value,c=n.querySelector(".pri-boxes .pri-box:nth-of-type(1) input"),o=n.querySelector(".pri-boxes .pri-box:nth-of-type(2) input"),l=n.querySelector(".pri-boxes .pri-box:nth-of-type(3) input"),u=[],p="";u.push(c,o,l);for(let e=0;e<u.length;e++)u[e].checked&&(p=u[e].value);let m=t(a,i,s,p,r);e.push(m)}return{getAllTasks:function(){return e},createTask:n,getProjectTasks:function(t){const n=[];for(let d=0;d<e.length;d++){let a=e[d];a.project==t&&n.push(a)}return n},makeTaskForm:function(e,t){return m.create(e,t)},formSubmit:function(e){n(e),p.renderAllProjects()},taskCheckedOff:function(t){const n=e.indexOf(t);e.splice(n,1),p.renderAllProjects()},editTask:function(e,t){const n=t.children;i(n),console.log(t),s(e,t)},editFormSubmit:function(e,t){t.name=e.querySelector(".task-name input").value,t.dueDate=e.querySelector(".task-date input").value,t.note=e.querySelector(".task-note textarea").value;let n=e.querySelector(".pri-boxes .pri-box:nth-of-type(1) input"),d=e.querySelector(".pri-boxes .pri-box:nth-of-type(2) input"),a=e.querySelector(".pri-boxes .pri-box:nth-of-type(3) input"),i=[],s="";i.push(n,d,a);for(let e=0;e<i.length;e++)i[e].checked&&(s=i[e].value);t.priority=s,p.renderAllProjects()}}})(),l=e=>({name:e}),u=(()=>{const e=document.getElementById("content"),t=document.createElement("div");return t.setAttribute("id","all-proj-box"),{render:function(d,a,i,s){const r=document.createElement("div"),c=document.createElement("h4"),o=document.createElement("div");t.classList.add("row"),c.textContent=d.name,r.classList.add("project-box"),r.classList.add("col-12"),r.classList.add("my-2"),r.classList.add("order-"+s),r.classList.add("projBox-"+s),r.appendChild(c),o.textContent="+",o.classList.add("add-task"),o.addEventListener("click",(e=>{i.classList.toggle("new-task-form")}));for(let e=0;e<a.length;e++){const t=n(a[e]);r.appendChild(t)}c.addEventListener("click",(e=>{e.preventDefault(),p.editProject(d,c)})),r.appendChild(o),r.appendChild(i),t.appendChild(r),e.appendChild(t)}}})(),p=(()=>{const e=[l("Free Spirited Tasks")];function t(t){const n=t["new-project"].value.trim();if(n){const t=l(n);e.push(t)}}function n(){d();for(let t=0;t<e.length;t++){const n=e[t],d=o.getProjectTasks(n.name),a=o.makeTaskForm(n,t);u.render(n,d,a,t)}}return{createNewProject:t,getAllProjects:function(){return e},renderAllProjects:n,createNewProjectForm:function(){r()},formSubmit:function(e){t(e),n(),e.reset()},editProject:function(e,t){let n=t.parentNode;a(t),c(e,n)},editSubmit:function(e,t){let d=e.newName.value;t.name=d,n()}}})(),m={create:function(e,t){const n=document.createElement("form"),d=document.createElement("div");return d.classList.add("col-12"),n.setAttribute("id","task-form"+t),n.classList.add("order-"+t),n.classList.add("new-task-form"),n.classList.add("task-form"),n.classList.add("row"),n.addEventListener("submit",(e=>{e.preventDefault(),o.formSubmit(n,t)})),function(){const a=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","date"),t.classList.add("w-100"),e.classList.add("task-date"),e.classList.add("col-6"),e.classList.add("pl-0"),e.appendChild(t),e}(),i=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder","Task Name"),t.classList.add("w-100"),t.required=!0,e.classList.add("task-name"),e.classList.add("col-6"),e.classList.add("pr-0"),e.appendChild(t),e}(),s=function(){const e=document.createElement("div"),n=document.createElement("textarea");return n.setAttribute("placeholder","Notes about task"),n.setAttribute("form","task-form"+t),n.classList.add("w-100"),e.classList.add("task-note"),e.appendChild(n),e}(),r=function(){const n=document.createElement("div"),d=document.createElement("input");return d.setAttribute("type","hidden"),d.setAttribute("id","project"+t),d.setAttribute("value",e.name),n.classList.add("task-project"),n.appendChild(d),n}(),c=function(){const e=document.createElement("div"),n=document.createElement("input"),d=document.createElement("label"),a=document.createElement("div"),i=document.createElement("input"),s=document.createElement("label"),r=document.createElement("div"),c=document.createElement("input"),o=document.createElement("label"),l=document.createElement("div");return a.classList.add("low-box"),a.classList.add("pri-box"),r.classList.add("med-box"),r.classList.add("pri-box"),r.classList.add("mx-3"),l.classList.add("high-box"),l.classList.add("pri-box"),e.classList.add("d-flex"),e.classList.add("col-9"),n.setAttribute("type","radio"),n.setAttribute("name","priority"),n.setAttribute("value","low"),n.classList.add("priority"+t),d.setAttribute("for","lowPriority"),d.classList.add("ml-1"),d.textContent="Low",i.setAttribute("type","radio"),i.setAttribute("name","priority"),i.setAttribute("value","med"),i.classList.add("priority"+t),s.setAttribute("for","medPriority"),s.classList.add("ml-1"),s.textContent="Medium",c.setAttribute("type","radio"),c.setAttribute("name","priority"),c.setAttribute("value","high"),c.classList.add("priority"+t),o.setAttribute("for","highPriority"),o.classList.add("ml-1"),o.textContent="High",a.appendChild(n),a.appendChild(d),e.appendChild(a),r.appendChild(i),r.appendChild(s),e.appendChild(r),l.appendChild(c),l.appendChild(o),e.appendChild(l),e.classList.add("pri-boxes"),e}();n.appendChild(i),n.appendChild(a),d.appendChild(s),n.appendChild(d),n.appendChild(r),n.appendChild(c)}(),function(){const e=document.createElement("div"),t=function(){const e=document.createElement("button");return e.setAttribute("type","submit"),e.textContent="Add",e}();e.appendChild(t),n.appendChild(e)}(),n}},h=(document.getElementById("content"),{render:function(){p.createNewProjectForm(),p.renderAllProjects()}});e(),h.render()})();