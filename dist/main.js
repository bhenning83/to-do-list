(()=>{"use strict";const e=function(){const e=document.getElementById("content"),t=document.createElement("header"),n=document.createElement("h1");n.textContent="To-Do or Not To-Do",t.classList.add("text-center"),t.appendChild(n),e.appendChild(t)},t=(e,t,n,i,d="Free Spirited")=>({name:e,dueDate:t,note:n,priority:i,project:d}),n=function(e){const t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div"),o=function(e){const t=document.createElement("div"),n=document.createElement("div");return t.classList.add("check-box"),n.classList.add("checkmark"),t.addEventListener("click",(t=>{t.preventDefault(),n.style.display="block",setTimeout((function(){u.taskCheckedOff(e)}),700)})),t.appendChild(n),t}(e),c=function(e,t){const n=document.createElement("i");return n.classList.add("fa"),n.classList.add("fa-pencil-square-o"),n.classList.add("mr-2"),n.addEventListener("click",(n=>{n.preventDefault(),u.editTask(e,t)})),n}(e,t);switch(t.classList.add("task-box"),d.classList.add("name-date-box"),r.classList.add("name-date-check-box"),n.classList.add("mr-auto"),n.textContent=e.name,i.textContent=e.dueDate,a.textContent=e.note,a.classList.add("task-note"),a.classList.add("show-task-note"),d.addEventListener("click",(e=>{e.preventDefault(),a.classList.toggle("show-task-note")})),e.priority){case"high":n.classList.add("high-pri");break;case"med":n.classList.add("med-pri");break;case"low":n.classList.add("low-pri")}return d.appendChild(n),d.appendChild(c),d.appendChild(i),r.appendChild(o),r.appendChild(d),t.appendChild(r),t.appendChild(a),t},i=function(){let e=document.querySelectorAll(".project-box");for(let t=0;t<e.length;t++)e[t].remove()},d=function(e){e.remove()},r=function(e){for(let t=e.length-1;t>=0;t--)e[t].remove()},a=function(e,t){const n=document.createElement("form");n.classList.add("task-form"),n.addEventListener("submit",(t=>{t.preventDefault(),u.editFormSubmit(n,e)})),function(){const i=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("type","date"),n.setAttribute("id","newDueDate"),n.setAttribute("value",e.dueDate),t.appendChild(n),t}(),d=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("type","text"),n.setAttribute("id","newName"),n.setAttribute("placeholder","Edit Task Name"),n.setAttribute("value",e.name),t.appendChild(n),t}(),r=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("placeholder","Notes about task"),n.setAttribute("id","newNote"),n.setAttribute("type","textarea"),n.setAttribute("value",e.note),t.appendChild(n),t}(),a=function(){const t=document.createElement("div"),n=document.createElement("input"),i=document.createElement("label"),d=document.createElement("input"),r=document.createElement("label"),a=document.createElement("input"),o=document.createElement("label");switch(n.setAttribute("type","radio"),n.setAttribute("name","newPriority"),n.setAttribute("id","lowPriority"),n.setAttribute("value","low"),i.setAttribute("for","lowPriority"),i.textContent="Low",d.setAttribute("type","radio"),d.setAttribute("name","newPriority"),d.setAttribute("id","medPriority"),d.setAttribute("value","med"),r.setAttribute("for","medPriority"),r.textContent="Medium",a.setAttribute("type","radio"),a.setAttribute("name","newPriority"),a.setAttribute("id","highPriority"),a.setAttribute("value","high"),o.setAttribute("for","highPriority"),o.textContent="High",e.priority){case"high":a.setAttribute("checked",!0);break;case"med":d.setAttribute("checked",!0);break;case"low":n.setAttribute("checked",!0)}return t.appendChild(n),t.appendChild(i),t.appendChild(d),t.appendChild(r),t.appendChild(a),t.appendChild(o),t}();n.appendChild(d),n.appendChild(i),n.appendChild(r),n.appendChild(a),function(){const e=document.createElement("div"),t=function(){const e=document.createElement("button");return e.setAttribute("type","submit"),e.textContent="Edit",e}();e.appendChild(t),n.appendChild(e)}(),t.appendChild(n)}()},o=function(){const e=document.getElementById("content"),t=document.createElement("form"),n=document.createElement("div"),i=document.createElement("input"),d=document.createElement("button");i.setAttribute("placeholder","New Project"),i.setAttribute("id","new-project"),i.setAttribute("type","text"),i.classList.add("mr-3"),d.setAttribute("type","submit"),d.textContent="Create",n.classList.add("d-flex"),n.appendChild(i),n.appendChild(d),t.appendChild(n),t.addEventListener("submit",(e=>{e.preventDefault(),m.formSubmit(t)})),e.appendChild(t)},c=function(e,t){const n=document.createElement("form"),i=document.createElement("div"),d=document.createElement("input");document.createElement("button"),d.setAttribute("placeholder","Edit Project Name"),d.setAttribute("value",e.name),d.setAttribute("id","newName"),d.setAttribute("type","text"),i.appendChild(d),n.appendChild(i),n.addEventListener("submit",(t=>{t.preventDefault(),m.editSubmit(n,e)})),t.prepend(n)},u=(()=>{const e=[t("Task Name","2020-12-20","A note about the task","low","Project 1"),t("Task Name 2","2020-12-20","Another note about the task","high","Project 1")];function n(n){let i=n.getElementsByTagName("input")[0].value,d=n.getElementsByTagName("input")[1].value,r=n.getElementsByTagName("input")[2].value,a=n.getElementsByTagName("input")[3].value,o="";const c=document.getElementsByName("priority");for(let e=0;e<c.length;e++)c[e].checked&&(o=c[e].value);let u=t(i,d,r,o,a);e.push(u)}return{getAllTasks:function(){return e},createTask:n,getProjectTasks:function(t){const n=[];for(let i=0;i<e.length;i++){let d=e[i];d.project==t&&n.push(d)}return n},makeTaskForm:function(e,t){return p.create(e,t)},formSubmit:function(e){n(e),m.renderAllProjects()},taskCheckedOff:function(t){const n=e.indexOf(t);e.splice(n,1),m.renderAllProjects()},editTask:function(e,t){const n=t.children;r(n),console.log(t),a(e,t)},editFormSubmit:function(e,t){t.name=e.newName.value,t.dueDate=e.newDueDate.value,t.note=e.newNote.value,t.priority=e.newNote.value;let n="";const i=document.getElementsByName("newPriority");for(let e=0;e<i.length;e++)i[e].checked&&(n=i[e].value);t.priority=n,m.renderAllProjects()}}})(),s=e=>({name:e}),l=(()=>{const e=document.getElementById("content"),t=document.createElement("div");return t.setAttribute("id","all-proj-box"),{render:function(i,d,r,a){const o=document.createElement("div"),c=document.createElement("h4"),u=document.createElement("div");t.classList.add("row"),c.textContent=i.name,o.classList.add("project-box"),o.classList.add("col-12"),o.classList.add("my-2"),o.classList.add("order-"+a),o.classList.add("projBox-"+a),o.appendChild(c),u.textContent="+",u.classList.add("add-task"),u.addEventListener("click",(e=>{r.classList.toggle("new-task-form")}));for(let e=0;e<d.length;e++){const t=n(d[e]);o.appendChild(t)}c.addEventListener("click",(e=>{e.preventDefault(),m.editProject(i,c)})),o.appendChild(u),o.appendChild(r),t.appendChild(o),e.appendChild(t)}}})(),m=(()=>{const e=[s("Project 1"),s("Project 2")];function t(t){const n=t["new-project"].value.trim();if(n){const t=s(n);e.push(t)}}function n(){i();for(let t=0;t<e.length;t++){const n=e[t],i=u.getProjectTasks(n.name),d=u.makeTaskForm(n,t);l.render(n,i,d,t)}}return{createNewProject:t,getAllProjects:function(){return e},renderAllProjects:n,createNewProjectForm:function(){o()},formSubmit:function(e){t(e),n(),e.reset()},editProject:function(e,t){let n=t.parentNode;d(t),c(e,n)},editSubmit:function(e,t){let i=e.newName.value;t.name=i,n()}}})(),p={create:function(e,t){const n=document.createElement("form");return n.setAttribute("id","task-form"+t),n.classList.add("order-"+t),n.classList.add("new-task-form"),n.classList.add("task-form"),n.addEventListener("submit",(e=>{e.preventDefault(),u.formSubmit(n)})),function(){const t=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","date"),t.setAttribute("id","duedate"),e.appendChild(t),e}(),i=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("id","name"),t.setAttribute("placeholder","Task Name"),e.appendChild(t),e}(),d=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("placeholder","Notes about task"),t.setAttribute("id","note"),t.setAttribute("type","textarea"),e.appendChild(t),e}(),r=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("id","project"),n.setAttribute("value",e.name),t.appendChild(n),t}(),a=function(){const e=document.createElement("div"),t=document.createElement("input"),n=document.createElement("label"),i=document.createElement("input"),d=document.createElement("label"),r=document.createElement("input"),a=document.createElement("label");return t.setAttribute("type","radio"),t.setAttribute("name","priority"),t.setAttribute("id","lowPriority"),t.setAttribute("value","low"),n.setAttribute("for","lowPriority"),n.textContent="Low",i.setAttribute("type","radio"),i.setAttribute("name","priority"),i.setAttribute("id","medPriority"),i.setAttribute("value","med"),d.setAttribute("for","medPriority"),d.textContent="Medium",r.setAttribute("type","radio"),r.setAttribute("name","priority"),r.setAttribute("id","highPriority"),r.setAttribute("value","high"),a.setAttribute("for","highPriority"),a.textContent="High",e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(d),e.appendChild(r),e.appendChild(a),e}();n.appendChild(i),n.appendChild(t),n.appendChild(d),n.appendChild(r),n.appendChild(a)}(),function(){const e=document.createElement("div"),t=function(){const e=document.createElement("button");return e.setAttribute("type","submit"),e.textContent="Add",e}();e.appendChild(t),n.appendChild(e)}(),n}},h=(document.getElementById("content"),{render:function(){m.createNewProjectForm(),m.renderAllProjects()}});e(),h.render()})();