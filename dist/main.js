(()=>{"use strict";const e=function(){const e=document.getElementById("content"),t=document.createElement("header"),n=document.createElement("h1");n.textContent="To-Do or Not To-Do",t.classList.add("text-center"),t.appendChild(n),e.appendChild(t)},t=(e,t,n,d,i="Free Spirited")=>({name:e,dueDate:t,note:n,priority:d,project:i}),n=function(e){const t=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=function(e){const t=document.createElement("div"),n=document.createElement("div");return t.classList.add("check-box"),n.classList.add("checkmark"),t.addEventListener("click",(t=>{t.preventDefault(),n.style.display="block",setTimeout((function(){s.taskCheckedOff(e)}),700)})),t.appendChild(n),t}(e),c=function(e,t){const n=document.createElement("i");return n.classList.add("fa"),n.classList.add("fa-pencil-square-o"),n.classList.add("mr-2"),n.addEventListener("click",(n=>{n.preventDefault(),s.editTask(e,t)})),n}(e,t);switch(t.classList.add("task-box"),i.classList.add("name-date-box"),a.classList.add("name-date-check-box"),n.classList.add("mr-auto"),n.textContent=e.name,d.textContent=e.dueDate,r.textContent=e.note,r.classList.add("task-note"),r.classList.add("show-task-note"),i.addEventListener("click",(e=>{e.preventDefault(),r.classList.toggle("show-task-note")})),e.priority){case"high":n.classList.add("high-pri");break;case"med":n.classList.add("med-pri");break;case"low":n.classList.add("low-pri")}return i.appendChild(n),i.appendChild(c),i.appendChild(d),a.appendChild(o),a.appendChild(i),t.appendChild(a),t.appendChild(r),t},d=function(){let e=document.querySelectorAll(".project-box");for(let t=0;t<e.length;t++)e[t].remove()},i=function(e){e.remove()},a=function(e){for(let t=e.length-1;t>=0;t--)e[t].remove()},r=function(e,t){const n=document.createElement("form");n.classList.add("task-form"),n.addEventListener("submit",(t=>{t.preventDefault(),s.editFormSubmit(n,e)})),function(){const d=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("type","date"),n.setAttribute("id","newDueDate"),n.setAttribute("value",e.dueDate),t.appendChild(n),t}(),i=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("type","text"),n.setAttribute("id","newName"),n.setAttribute("placeholder","Edit Task Name"),n.setAttribute("value",e.name),t.appendChild(n),t}(),a=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("placeholder","Notes about task"),n.setAttribute("id","newNote"),n.setAttribute("type","textarea"),n.setAttribute("value",e.note),t.appendChild(n),t}(),r=function(){const t=document.createElement("div"),n=document.createElement("input"),d=document.createElement("label"),i=document.createElement("div"),a=document.createElement("input"),r=document.createElement("label"),o=document.createElement("div"),c=document.createElement("input"),s=document.createElement("label"),l=document.createElement("div");switch(n.setAttribute("type","radio"),n.setAttribute("name","newPriority"),n.setAttribute("id","lowPriority"),n.setAttribute("value","low"),d.setAttribute("for","lowPriority"),d.textContent="Low",a.setAttribute("type","radio"),a.setAttribute("name","newPriority"),a.setAttribute("id","medPriority"),a.setAttribute("value","med"),r.setAttribute("for","medPriority"),r.textContent="Medium",c.setAttribute("type","radio"),c.setAttribute("name","newPriority"),c.setAttribute("id","highPriority"),c.setAttribute("value","high"),s.setAttribute("for","highPriority"),s.textContent="High",e.priority){case"high":c.setAttribute("checked",!0);break;case"med":a.setAttribute("checked",!0);break;case"low":n.setAttribute("checked",!0)}return i.appendChild(n),i.appendChild(d),t.appendChild(i),o.appendChild(a),o.appendChild(r),t.appendChild(o),l.appendChild(c),l.appendChild(s),t.appendChild(l),t}();n.appendChild(i),n.appendChild(d),n.appendChild(a),n.appendChild(r),function(){const e=document.createElement("div"),t=function(){const e=document.createElement("button");return e.setAttribute("type","submit"),e.textContent="Edit",e}();e.appendChild(t),n.appendChild(e)}(),t.appendChild(n)}()},o=function(){const e=document.getElementById("content"),t=document.createElement("form"),n=document.createElement("div"),d=document.createElement("input"),i=document.createElement("button");d.setAttribute("placeholder","New Project"),d.setAttribute("id","new-project"),d.setAttribute("type","text"),d.classList.add("mr-3"),i.setAttribute("type","submit"),i.textContent="Create",n.classList.add("d-flex"),n.appendChild(d),n.appendChild(i),t.appendChild(n),t.addEventListener("submit",(e=>{e.preventDefault(),m.formSubmit(t)})),e.appendChild(t)},c=function(e,t){const n=document.createElement("form"),d=document.createElement("div"),i=document.createElement("input");document.createElement("button"),i.setAttribute("placeholder","Edit Project Name"),i.setAttribute("value",e.name),i.setAttribute("id","newName"),i.setAttribute("type","text"),d.appendChild(i),n.appendChild(d),n.addEventListener("submit",(t=>{t.preventDefault(),m.editSubmit(n,e)})),t.prepend(n)},s=(()=>{const e=[t("Task Name","2020-12-20","A note about the task","low","Project 1"),t("Task Name 2","2020-12-20","Another note about the task","high","Project 1")];function n(n,d){let i=n.querySelector(".task-name input").value,a=n.querySelector(".task-date input").value,r=n.querySelector(".task-note textarea").value,o=n.querySelector(".task-project input").value,c=n.querySelector(".pri-boxes .pri-box:nth-of-type(1) input"),s=n.querySelector(".pri-boxes .pri-box:nth-of-type(2) input"),l=n.querySelector(".pri-boxes .pri-box:nth-of-type(3) input"),u=[],m="";u.push(c,s,l),console.log(u);for(let e=0;e<u.length;e++)u[e].checked&&(m=u[e].value);let p=t(i,a,r,m,o);e.push(p)}return{getAllTasks:function(){return e},createTask:n,getProjectTasks:function(t){const n=[];for(let d=0;d<e.length;d++){let i=e[d];i.project==t&&n.push(i)}return n},makeTaskForm:function(e,t){return p.create(e,t)},formSubmit:function(e){n(e),m.renderAllProjects()},taskCheckedOff:function(t){const n=e.indexOf(t);e.splice(n,1),m.renderAllProjects()},editTask:function(e,t){const n=t.children;a(n),console.log(t),r(e,t)},editFormSubmit:function(e,t){t.name=e.newName.value,t.dueDate=e.newDueDate.value,t.note=e.newNote.value,t.priority=e.newNote.value;let n="";const d=document.getElementsByName("newPriority");for(let e=0;e<d.length;e++)d[e].checked&&(n=d[e].value);t.priority=n,m.renderAllProjects()}}})(),l=e=>({name:e}),u=(()=>{const e=document.getElementById("content"),t=document.createElement("div");return t.setAttribute("id","all-proj-box"),{render:function(d,i,a,r){const o=document.createElement("div"),c=document.createElement("h4"),s=document.createElement("div");t.classList.add("row"),c.textContent=d.name,o.classList.add("project-box"),o.classList.add("col-12"),o.classList.add("my-2"),o.classList.add("order-"+r),o.classList.add("projBox-"+r),o.appendChild(c),s.textContent="+",s.classList.add("add-task"),s.addEventListener("click",(e=>{a.classList.toggle("new-task-form")}));for(let e=0;e<i.length;e++){const t=n(i[e]);o.appendChild(t)}c.addEventListener("click",(e=>{e.preventDefault(),m.editProject(d,c)})),o.appendChild(s),o.appendChild(a),t.appendChild(o),e.appendChild(t)}}})(),m=(()=>{const e=[l("Free Spirited Tasks")];function t(t){const n=t["new-project"].value.trim();if(n){const t=l(n);e.push(t)}}function n(){d();for(let t=0;t<e.length;t++){const n=e[t],d=s.getProjectTasks(n.name),i=s.makeTaskForm(n,t);u.render(n,d,i,t)}}return{createNewProject:t,getAllProjects:function(){return e},renderAllProjects:n,createNewProjectForm:function(){o()},formSubmit:function(e){t(e),n(),e.reset()},editProject:function(e,t){let n=t.parentNode;i(t),c(e,n)},editSubmit:function(e,t){let d=e.newName.value;t.name=d,n()}}})(),p={create:function(e,t){const n=document.createElement("form"),d=document.createElement("div");return d.classList.add("col-12"),n.setAttribute("id","task-form"+t),n.classList.add("order-"+t),n.classList.add("new-task-form"),n.classList.add("task-form"),n.classList.add("row"),n.addEventListener("submit",(e=>{e.preventDefault(),s.formSubmit(n,t)})),function(){const i=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","date"),e.classList.add("task-date"),e.appendChild(t),e}(),a=function(){const e=document.createElement("div"),t=document.createElement("input");return e.classList.add("task-name"),t.setAttribute("type","text"),t.setAttribute("placeholder","Task Name"),e.appendChild(t),e}(),r=function(){const e=document.createElement("div"),n=document.createElement("textarea");return n.setAttribute("placeholder","Notes about task"),n.setAttribute("form","task-form"+t),n.classList.add("w-100"),e.classList.add("task-note"),e.appendChild(n),e}(),o=function(){const n=document.createElement("div"),d=document.createElement("input");return d.setAttribute("type","hidden"),d.setAttribute("id","project"+t),d.setAttribute("value",e.name),n.classList.add("task-project"),n.appendChild(d),n}(),c=function(){const e=document.createElement("div"),n=document.createElement("input"),d=document.createElement("label"),i=document.createElement("div"),a=document.createElement("input"),r=document.createElement("label"),o=document.createElement("div"),c=document.createElement("input"),s=document.createElement("label"),l=document.createElement("div");return i.classList.add("low-box"),i.classList.add("pri-box"),o.classList.add("med-box"),o.classList.add("pri-box"),o.classList.add("mx-3"),l.classList.add("high-box"),l.classList.add("pri-box"),e.classList.add("d-flex"),n.setAttribute("type","radio"),n.setAttribute("name","priority"),n.setAttribute("value","low"),n.classList.add("priority"+t),d.setAttribute("for","lowPriority"),d.textContent="Low",a.setAttribute("type","radio"),a.setAttribute("name","priority"),a.setAttribute("value","med"),a.classList.add("priority"+t),r.setAttribute("for","medPriority"),r.textContent="Medium",c.setAttribute("type","radio"),c.setAttribute("name","priority"),c.setAttribute("value","high"),c.classList.add("priority"+t),s.setAttribute("for","highPriority"),s.textContent="High",i.appendChild(n),i.appendChild(d),e.appendChild(i),o.appendChild(a),o.appendChild(r),e.appendChild(o),l.appendChild(c),l.appendChild(s),e.appendChild(l),e.classList.add("pri-boxes"),e}();n.appendChild(a),n.appendChild(i),d.appendChild(r),n.appendChild(d),n.appendChild(o),n.appendChild(c)}(),function(){const e=document.createElement("div"),t=function(){const e=document.createElement("button");return e.setAttribute("type","submit"),e.textContent="Add",e}();e.appendChild(t),n.appendChild(e)}(),n}},h=(document.getElementById("content"),{render:function(){m.createNewProjectForm(),m.renderAllProjects()}});e(),h.render()})();