(()=>{"use strict";const e=function(){const e=document.getElementById("content"),t=document.createElement("header"),n=document.createElement("h1");n.textContent="To-Do or Not To-Do",t.classList.add("text-center"),t.appendChild(n),e.appendChild(t)},t=(e,t,n,d,r="Free Spirited")=>({name:e,dueDate:t,note:n,priority:d,project:r}),n=function(e){const t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div"),l=function(e){const t=document.createElement("div"),n=document.createElement("div");return t.classList.add("check-box"),n.classList.add("checkmark"),t.addEventListener("click",(t=>{t.preventDefault(),n.style.display="block",setTimeout((function(){d.taskCheckedOff(e)}),700)})),t.appendChild(n),t}(e);return r.classList.add("task-box"),o.classList.add("name-date-box"),i.classList.add("task-contents"),a.classList.add("d-flex"),a.classList.add("align-items-center"),t.textContent=e.name,n.textContent=e.dueDate,c.textContent=e.note,c.classList.add("task-note"),c.classList.add("show-task-note"),o.addEventListener("click",(e=>{e.preventDefault(),c.classList.toggle("show-task-note")})),o.appendChild(t),o.appendChild(n),a.appendChild(l),a.appendChild(o),i.appendChild(o),i.appendChild(c),r.appendChild(a),r.appendChild(i),r},d=(()=>{const e=[t("Task Name","2020-12-20","A note about the task","low","Project 1"),t("Task Name 2","2020-12-20","Another note about the task","high","Project 1")];function n(n){let d=n.getElementsByTagName("input")[0].value,r=n.getElementsByTagName("input")[1].value,i=n.getElementsByTagName("input")[2].value,o=n.getElementsByTagName("input")[3].value,a="";console.log(o);const c=document.getElementsByName("priority");for(let e=0;e<c.length;e++)c[e].checked&&(a=c[e].value);let l=t(d,r,i,a,o);e.push(l)}return{getAllTasks:function(){return e},createTask:n,getProjectTasks:function(t){const n=[];for(let d=0;d<e.length;d++){let r=e[d];r.project==t&&n.push(r)}return n},makeTaskForm:function(e,t){return s.create(e,t)},formSubmit:function(e){n(e),l.renderAllProjects()},taskCheckedOff:function(t){const n=e.indexOf(t);e.splice(n,1),l.renderAllProjects()}}})(),r=e=>({name:e}),i=(()=>{const e=document.getElementById("content"),t=document.createElement("div");return t.setAttribute("id","all-proj-box"),{render:function(d,r,i,o){const a=document.createElement("div"),c=document.createElement("h4"),s=document.createElement("div");t.setAttribute("class","row"),c.textContent=d.name,a.classList.add("project-box"),a.classList.add("col-12"),a.classList.add("order-"+o),a.classList.add("projBox-"+o),a.appendChild(c),s.textContent="+",s.setAttribute("class","p-2"),s.setAttribute("class","add-task"),s.addEventListener("click",(e=>{i.classList.toggle("task-form")}));for(let e=0;e<r.length;e++){const t=n(r[e]);a.appendChild(t)}c.addEventListener("click",(e=>{e.preventDefault(),l.editProject(d,c)})),a.appendChild(s),a.appendChild(i),t.appendChild(a),e.appendChild(t)}}})(),o=function(){let e=document.querySelectorAll(".project-box");for(let t=0;t<e.length;t++)e[t].remove()},a=function(e){e.remove()},c=(()=>{const e=document.getElementById("content");return{render:function(){const t=document.createElement("form"),n=document.createElement("div"),d=document.createElement("input"),r=document.createElement("button");d.setAttribute("placeholder","New Project"),d.setAttribute("id","new-project"),d.setAttribute("type","text"),d.classList.add("mr-3"),r.setAttribute("type","submit"),r.textContent="Create",n.classList.add("d-flex"),n.appendChild(d),n.appendChild(r),t.appendChild(n),t.addEventListener("submit",(e=>{e.preventDefault(),l.formSubmit(t)})),e.appendChild(t)},edit:function(e,t){const n=document.createElement("form"),d=document.createElement("div"),r=document.createElement("input");document.createElement("button"),r.setAttribute("placeholder","Edit Project Name"),r.setAttribute("value",e.name),r.setAttribute("id","newName"),r.setAttribute("type","text"),d.appendChild(r),n.appendChild(d),n.addEventListener("submit",(t=>{t.preventDefault(),l.editSubmit(n,e)})),t.prepend(n)}}})(),l=(()=>{const e=[r("Project 1"),r("Project 2")];function t(t){const n=t["new-project"].value.trim();if(n){const t=r(n);e.push(t)}}function n(){o();for(let t=0;t<e.length;t++){const n=e[t],r=d.getProjectTasks(n.name),o=d.makeTaskForm(n,t);i.render(n,r,o,t)}}return{createNewProject:t,getAllProjects:function(){return e},renderAllProjects:n,createNewProjectForm:function(){c.render()},formSubmit:function(e){t(e),n(),e.reset()},editProject:function(e,t){let n=t.parentNode;a(t),c.edit(e,n)},editSubmit:function(e,t){let d=e.newName.value;t.name=d,n()}}})(),s={create:function(e,t){const n=document.createElement("form");return n.setAttribute("id","task-form"+t),n.classList.add("order-"+t),n.classList.add("task-form"),n.addEventListener("submit",(e=>{e.preventDefault(),d.formSubmit(n)})),function(){const t=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","date"),t.setAttribute("id","duedate"),e.appendChild(t),e}(),d=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("id","name"),t.setAttribute("placeholder","Task Name"),e.appendChild(t),e}(),r=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("placeholder","Notes about task"),t.setAttribute("id","note"),t.setAttribute("type","textarea"),e.appendChild(t),e}(),i=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("id","project"),n.setAttribute("value",e.name),t.appendChild(n),t}(),o=function(){const e=document.createElement("div"),t=document.createElement("input"),n=document.createElement("label"),d=document.createElement("input"),r=document.createElement("label"),i=document.createElement("input"),o=document.createElement("label");return t.setAttribute("type","radio"),t.setAttribute("name","priority"),t.setAttribute("id","lowPriority"),t.setAttribute("value","low"),n.setAttribute("for","lowPriority"),n.textContent="Low",d.setAttribute("type","radio"),d.setAttribute("name","priority"),d.setAttribute("id","medPriority"),d.setAttribute("value","med"),r.setAttribute("for","medPriority"),r.textContent="Medium",i.setAttribute("type","radio"),i.setAttribute("name","priority"),i.setAttribute("id","highPriority"),i.setAttribute("value","high"),o.setAttribute("for","highPriority"),o.textContent="High",e.appendChild(t),e.appendChild(n),e.appendChild(d),e.appendChild(r),e.appendChild(i),e.appendChild(o),e}();n.appendChild(d),n.appendChild(t),n.appendChild(r),n.appendChild(i),n.appendChild(o)}(),function(){const e=document.createElement("div"),t=function(){const e=document.createElement("button");return e.setAttribute("type","submit"),e.textContent="Add",e}();e.appendChild(t),n.appendChild(e)}(),n}},u=(document.getElementById("content"),{render:function(){l.createNewProjectForm(),l.renderAllProjects()}});e(),u.render()})();