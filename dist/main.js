(()=>{"use strict";const e=function(){const e=document.getElementById("content"),t=document.createElement("header"),n=document.createElement("h1");n.textContent="To-Do or Not To-Do",t.classList.add("text-center"),t.appendChild(n),e.appendChild(t)},t=(e,t,n,d,a="Free Spirited")=>({name:e,dueDate:t,note:n,priority:d,project:a}),n=function(e){const t=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=function(e){const t=document.createElement("div"),n=document.createElement("div");return t.classList.add("check-box"),n.classList.add("checkmark"),t.addEventListener("click",(t=>{t.preventDefault(),n.style.display="block",setTimeout((function(){c.taskCheckedOff(e)}),700)})),t.appendChild(n),t}(e),o=function(e,t){const n=document.createElement("i");return n.classList.add("fa"),n.classList.add("fa-pencil-square-o"),n.classList.add("mr-2"),n.addEventListener("click",(n=>{n.preventDefault(),c.editTask(e,t)})),n}(e,t);switch(t.classList.add("task-box"),a.classList.add("name-date-box"),i.classList.add("name-date-check-box"),n.classList.add("mr-auto"),n.textContent=e.name,d.textContent=e.dueDate,r.textContent=e.note,r.classList.add("task-note"),r.classList.add("show-task-note"),a.addEventListener("click",(e=>{e.preventDefault(),r.classList.toggle("show-task-note")})),e.priority){case"high":n.classList.add("high-pri");break;case"med":n.classList.add("med-pri");break;case"low":n.classList.add("low-pri")}return a.appendChild(n),a.appendChild(o),a.appendChild(d),i.appendChild(s),i.appendChild(a),t.appendChild(i),t.appendChild(r),t},d=function(){let e=document.querySelectorAll(".project-box");for(let t=0;t<e.length;t++)e[t].remove()},a=function(e){e.remove()},i=function(e){for(let t=e.length-1;t>=0;t--)e[t].remove()},r=function(e,t){const n=document.createElement("form"),d=document.createElement("div");d.classList.add("col-12"),n.setAttribute("id","edit-form-"+e.name),n.classList.add("edit-task-form"),n.classList.add("task-form"),n.classList.add("row"),n.addEventListener("submit",(t=>{t.preventDefault(),c.editFormSubmit(n,e)})),function(){const a=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("type","date"),n.setAttribute("id","newDueDate"),n.setAttribute("value",e.dueDate),t.classList.add("task-date"),t.appendChild(n),t}(),i=function(){const t=document.createElement("div"),n=document.createElement("input");return n.setAttribute("type","text"),n.setAttribute("id","newName"),n.setAttribute("placeholder","Edit Task Name"),n.setAttribute("value",e.name),t.classList.add("task-name"),t.appendChild(n),t}(),r=function(){const t=document.createElement("div"),n=document.createElement("textarea");return n.setAttribute("placeholder","Notes about task"),n.setAttribute("form","edit-form-"+e.name),n.classList.add("w-100"),t.classList.add("task-note"),t.appendChild(n),t}(),s=function(){const t=document.createElement("div"),n=document.createElement("input"),d=document.createElement("label"),a=document.createElement("div"),i=document.createElement("input"),r=document.createElement("label"),s=document.createElement("div"),o=document.createElement("input"),c=document.createElement("label"),l=document.createElement("div");switch(a.classList.add("low-box"),a.classList.add("pri-box"),s.classList.add("med-box"),s.classList.add("pri-box"),s.classList.add("mx-3"),l.classList.add("high-box"),l.classList.add("pri-box"),t.classList.add("d-flex"),n.setAttribute("type","radio"),n.setAttribute("name","priority"),n.setAttribute("value","low"),d.setAttribute("for","lowPriority"),d.textContent="Low",i.setAttribute("type","radio"),i.setAttribute("name","priority"),i.setAttribute("value","med"),r.setAttribute("for","medPriority"),r.textContent="Medium",o.setAttribute("type","radio"),o.setAttribute("name","priority"),o.setAttribute("value","high"),c.setAttribute("for","highPriority"),c.textContent="High",e.priority){case"high":o.setAttribute("checked",!0);break;case"med":i.setAttribute("checked",!0);break;case"low":n.setAttribute("checked",!0)}return a.appendChild(n),a.appendChild(d),t.appendChild(a),s.appendChild(i),s.appendChild(r),t.appendChild(s),l.appendChild(o),l.appendChild(c),t.appendChild(l),t.classList.add("pri-boxes"),t}();n.appendChild(i),n.appendChild(a),d.appendChild(r),n.appendChild(d),n.appendChild(s),function(){const e=document.createElement("button"),t=document.createElement("div");e.setAttribute("type","submit"),e.textContent="Edit",t.appendChild(e),n.appendChild(t)}(),t.appendChild(n)}()},s=function(){const e=document.getElementById("content"),t=document.createElement("form"),n=document.createElement("div"),d=document.createElement("input"),a=document.createElement("button");d.setAttribute("placeholder","New Project"),d.setAttribute("id","new-project"),d.setAttribute("type","text"),d.classList.add("mr-3"),a.setAttribute("type","submit"),a.textContent="Create",n.classList.add("d-flex"),n.appendChild(d),n.appendChild(a),t.appendChild(n),t.addEventListener("submit",(e=>{e.preventDefault(),p.formSubmit(t)})),e.appendChild(t)},o=function(e,t){const n=document.createElement("form"),d=document.createElement("div"),a=document.createElement("input");document.createElement("button"),a.setAttribute("placeholder","Edit Project Name"),a.setAttribute("value",e.name),a.setAttribute("id","newName"),a.setAttribute("type","text"),d.appendChild(a),n.appendChild(d),n.addEventListener("submit",(t=>{t.preventDefault(),p.editSubmit(n,e)})),t.prepend(n)},c=(()=>{const e=[t("Task Name","2020-12-20","A note about the task","low","Project 1"),t("Task Name 2","2020-12-20","Another note about the task","high","Project 1")];function n(n,d){let a=n.querySelector(".task-name input").value,i=n.querySelector(".task-date input").value,r=n.querySelector(".task-note textarea").value,s=n.querySelector(".task-project input").value,o=n.querySelector(".pri-boxes .pri-box:nth-of-type(1) input"),c=n.querySelector(".pri-boxes .pri-box:nth-of-type(2) input"),l=n.querySelector(".pri-boxes .pri-box:nth-of-type(3) input"),u=[],p="";u.push(o,c,l);for(let e=0;e<u.length;e++)u[e].checked&&(p=u[e].value);let m=t(a,i,r,p,s);e.push(m)}return{getAllTasks:function(){return e},createTask:n,getProjectTasks:function(t){const n=[];for(let d=0;d<e.length;d++){let a=e[d];a.project==t&&n.push(a)}return n},makeTaskForm:function(e,t){return m.create(e,t)},formSubmit:function(e){n(e),p.renderAllProjects()},taskCheckedOff:function(t){const n=e.indexOf(t);e.splice(n,1),p.renderAllProjects()},editTask:function(e,t){const n=t.children;i(n),console.log(t),r(e,t)},editFormSubmit:function(e,t){t.name=e.querySelector(".task-name input").value,t.dueDate=e.querySelector(".task-date input").value,t.note=e.querySelector(".task-note textarea").value;let n=e.querySelector(".pri-boxes .pri-box:nth-of-type(1) input"),d=e.querySelector(".pri-boxes .pri-box:nth-of-type(2) input"),a=e.querySelector(".pri-boxes .pri-box:nth-of-type(3) input"),i=[],r="";i.push(n,d,a);for(let e=0;e<i.length;e++)i[e].checked&&(r=i[e].value);t.priority=r,p.renderAllProjects()}}})(),l=e=>({name:e}),u=(()=>{const e=document.getElementById("content"),t=document.createElement("div");return t.setAttribute("id","all-proj-box"),{render:function(d,a,i,r){const s=document.createElement("div"),o=document.createElement("h4"),c=document.createElement("div");t.classList.add("row"),o.textContent=d.name,s.classList.add("project-box"),s.classList.add("col-12"),s.classList.add("my-2"),s.classList.add("order-"+r),s.classList.add("projBox-"+r),s.appendChild(o),c.textContent="+",c.classList.add("add-task"),c.addEventListener("click",(e=>{i.classList.toggle("new-task-form")}));for(let e=0;e<a.length;e++){const t=n(a[e]);s.appendChild(t)}o.addEventListener("click",(e=>{e.preventDefault(),p.editProject(d,o)})),s.appendChild(c),s.appendChild(i),t.appendChild(s),e.appendChild(t)}}})(),p=(()=>{const e=[l("Free Spirited Tasks")];function t(t){const n=t["new-project"].value.trim();if(n){const t=l(n);e.push(t)}}function n(){d();for(let t=0;t<e.length;t++){const n=e[t],d=c.getProjectTasks(n.name),a=c.makeTaskForm(n,t);u.render(n,d,a,t)}}return{createNewProject:t,getAllProjects:function(){return e},renderAllProjects:n,createNewProjectForm:function(){s()},formSubmit:function(e){t(e),n(),e.reset()},editProject:function(e,t){let n=t.parentNode;a(t),o(e,n)},editSubmit:function(e,t){let d=e.newName.value;t.name=d,n()}}})(),m={create:function(e,t){const n=document.createElement("form"),d=document.createElement("div");return d.classList.add("col-12"),n.setAttribute("id","task-form"+t),n.classList.add("order-"+t),n.classList.add("new-task-form"),n.classList.add("task-form"),n.classList.add("row"),n.addEventListener("submit",(e=>{e.preventDefault(),c.formSubmit(n,t)})),function(){const a=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","date"),e.classList.add("task-date"),e.appendChild(t),e}(),i=function(){const e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder","Task Name"),e.classList.add("task-name"),e.appendChild(t),e}(),r=function(){const e=document.createElement("div"),n=document.createElement("textarea");return n.setAttribute("placeholder","Notes about task"),n.setAttribute("form","task-form"+t),n.classList.add("w-100"),e.classList.add("task-note"),e.appendChild(n),e}(),s=function(){const n=document.createElement("div"),d=document.createElement("input");return d.setAttribute("type","hidden"),d.setAttribute("id","project"+t),d.setAttribute("value",e.name),n.classList.add("task-project"),n.appendChild(d),n}(),o=function(){const e=document.createElement("div"),n=document.createElement("input"),d=document.createElement("label"),a=document.createElement("div"),i=document.createElement("input"),r=document.createElement("label"),s=document.createElement("div"),o=document.createElement("input"),c=document.createElement("label"),l=document.createElement("div");return a.classList.add("low-box"),a.classList.add("pri-box"),s.classList.add("med-box"),s.classList.add("pri-box"),s.classList.add("mx-3"),l.classList.add("high-box"),l.classList.add("pri-box"),e.classList.add("d-flex"),n.setAttribute("type","radio"),n.setAttribute("name","priority"),n.setAttribute("value","low"),n.classList.add("priority"+t),d.setAttribute("for","lowPriority"),d.textContent="Low",i.setAttribute("type","radio"),i.setAttribute("name","priority"),i.setAttribute("value","med"),i.classList.add("priority"+t),r.setAttribute("for","medPriority"),r.textContent="Medium",o.setAttribute("type","radio"),o.setAttribute("name","priority"),o.setAttribute("value","high"),o.classList.add("priority"+t),c.setAttribute("for","highPriority"),c.textContent="High",a.appendChild(n),a.appendChild(d),e.appendChild(a),s.appendChild(i),s.appendChild(r),e.appendChild(s),l.appendChild(o),l.appendChild(c),e.appendChild(l),e.classList.add("pri-boxes"),e}();n.appendChild(i),n.appendChild(a),d.appendChild(r),n.appendChild(d),n.appendChild(s),n.appendChild(o)}(),function(){const e=document.createElement("div"),t=function(){const e=document.createElement("button");return e.setAttribute("type","submit"),e.textContent="Add",e}();e.appendChild(t),n.appendChild(e)}(),n}},h=(document.getElementById("content"),{render:function(){p.createNewProjectForm(),p.renderAllProjects()}});e(),h.render()})();